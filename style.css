* { box-sizing: border-box; }
html, body { height:100%; }
body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#111; background:#fafafa; }
header { display:flex; align-items:center; justify-content:space-between; padding:10px 16px; background:#fff; border-bottom:1px solid #eaeaea; position:sticky; top:0; z-index:10; }
h1 { font-size:18px; margin:0; }
.actions { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.spacer { flex:1 1 auto; }
.button { background:#111; color:#fff; padding:8px 12px; border-radius:10px; cursor:pointer; }
button { border:1px solid #ddd; background:#fff; padding:8px 12px; border-radius:10px; cursor:pointer; }
button.secondary, .button.secondary { background:#f4f4f4; color:#111; border:1px solid #e5e5e5; }
button.danger { border-color:#f2b8b5; background:#fff5f5; }
button.primary { background:#111; color:#fff; border-color:#111; }
button:hover, .button:hover { filter:brightness(0.96); }
main { display:grid; grid-template-columns:360px 1fr; min-height: calc(100vh - 56px); }
aside { padding:16px; border-right:1px solid #eaeaea; background:#fff; overflow:auto; }
.catalog { display:grid; gap:8px; }
.catalog-item { display:flex; align-items:center; gap:8px; padding:8px; border:1px solid #eee; border-radius:10px; cursor:pointer; background:#fff; }
.catalog-item.active { outline:2px solid #111; }
.catalog-icon { font-size:18px; width:24px; text-align:center; }
.catalog-meta { display:grid; line-height:1.1; }
.catalog-meta small { color:#666; }
.tools { display:grid; gap:6px; }
#stage { position:relative; display:grid; place-items:center; min-height: calc(100vh - 56px); padding:12px; }
#pdfCanvas, #annoCanvas { position:absolute; top:0; left:0; max-width:100%; height:auto; }
#pdfCanvas { background:#fff; z-index:1; border:1px solid #ddd; }
#annoCanvas { background:transparent; z-index:2; }
.hr { height:1px; background:#eee; margin:12px 0; }
#totals { width:100%; border-collapse:collapse; }
#totals th, #totals td { padding:6px 4px; border-bottom:1px solid #eee; font-size:13px; }
#totals td:nth-child(2), #totals td:nth-child(3), #totals td:nth-child(4) { text-align:right; }
.tooltip { position:absolute; padding:4px 6px; background:rgba(0,0,0,.85); color:#fff; font-size:12px; border-radius:4px; pointer-events:none; }
.hint { color:#666; font-size:12px; }
.drop-hint { position:absolute; top:20px; left:20px; right:20px; background:#fffbea; border:1px dashed #f1c40f; color:#7d6608; padding:8px 12px; border-radius:6px; text-align:center; z-index:3; }
.status { font-size:12px; color:#444; background:#eef; padding:8px; border-radius:6px; }
.modal { position:fixed; inset:0; background:rgba(0,0,0,.35); display:grid; place-items:center; z-index:50; }
.modal-box { width:min(960px, 96vw); background:#fff; border-radius:16px; border:1px solid #eaeaea; box-shadow:0 10px 32px rgba(0,0,0,.15); overflow:hidden; }
.modal-header, .modal-footer { display:flex; align-items:center; gap:8px; padding:12px; border-bottom:1px solid #eee; }
.modal-footer { border-top:1px solid #eee; border-bottom:0; }
.modal-header h3 { margin:0; font-size:16px; }
.modal-body { padding:12px; max-height:min(70vh, 560px); overflow:auto; }
.modal .icon { background:#f5f5f5; border:1px solid #eee; border-radius:8px; }
.cat-table { width:100%; border-collapse:collapse; }
.cat-table th, .cat-table td { border-bottom:1px solid #f1f1f1; padding:8px; font-size:14px; }
.cat-table input { width:100%; padding:6px 8px; border:1px solid #e6e6e6; border-radius:8px; }
.cat-table .del { background:#fff5f5; border-color:#f2b8b5; }
